<div class="relative bg-black text-white min-h-screen">
    <div class="flex flex-col min-h-screen">
        <header class="flex flex-col border-b border-gray-700 bg-checkout-black">
            <div class="border-b border-gray-700 bg-checkout-black">
                <div
                    class="mx-auto w-full max-w-[1248px] px-4 xl:px-0 relative flex items-center justify-center py-4 text-400 label">
                    <button type="button"
                        class="inline-flex text-center items-center justify-center w-max font-bold transition duration-200 disabled:opacity-40 rounded-full text-white hocus:text-blue-500 p-2 text-sm md:text-base absolute left-0 z-10"
                        aria-label="Browser Back"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 45 45" width="1em" height="100%" class="m-2 h-5 w-5">
                            <title>Back</title>
                            <path
                                d="M14.974 22.5 34.321 3.153A2.09 2.09 0 0 0 31.46.291l-20.892 20.75a2.09 2.09 0 0 0 0 2.861L31.373 44.71a2.09 2.09 0 0 0 2.862-2.862z">
                            </path>
                        </svg></button>
                    <h1>Showtimes</h1><a
                        class="inline-flex text-center items-center justify-center w-max font-bold transition duration-200 disabled:opacity-40 rounded-full text-white hocus:text-blue-500 p-2 text-sm md:text-base absolute right-0"
                        href="/"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor"
                            viewBox="0 0 45 45" width="1em" height="100%" class="m-2 h-5 w-5">
                            <title>Close</title>
                            <path stroke-width="4.0358"
                                d="M40.341 4.769a1.112 1.112 0 0 1-.022 1.587L24.071 22.604 40.32 38.85a1.112 1.112 0 0 1-1.566 1.566L22.506 24.169 6.236 40.417a1.112 1.112 0 0 1-1.565-1.566l16.27-16.247L4.67 6.356a1.125 1.125 0 0 1-.303-.767A1.13 1.13 0 0 1 5.49 4.465c.285 0 .56.11.768.304l16.248 16.269 16.268-16.27a1.117 1.117 0 0 1 1.566 0Z">
                            </path>
                        </svg></a>
                </div>
            </div>
            <form id="showtime-result-filters" aria-label="Showtime Result Filters" aria-controls="showtime-results"
                class="flex justify-center divide-x divide-gray-700"><label aria-label="Theatre Filter"
                    class="relative flex w-full max-w-[25%] flex-col items-center justify-between gap-2 p-2 text-xs transition-all duration-200 focus-within:text-blue-500 hover:text-blue-500 md:w-auto md:flex-row md:p-4 md:text-base"><select
                        class="absolute inset-0 w-full cursor-pointer appearance-none bg-transparent text-transparent [&amp;>option]:text-black"
                        name="theatre">
                        <option value="amc-village-7">AMC Village 7</option>
                        <option value="amc-19th-st-east-6">AMC 19th St. East 6</option>
                        <option value="amc-kips-bay-15">AMC Kips Bay 15</option>
                        <option value="amc-34th-street-14">AMC 34th Street 14</option>
                        <option value="amc-empire-25">AMC Empire 25</option>
                        <option value="amc-newport-centre-11">AMC Newport Centre 11</option>
                        <option value="amc-lincoln-square-13">AMC Lincoln Square 13</option>
                        <option value="amc-orpheum-7">AMC Orpheum 7</option>
                        <option value="amc-84th-street-6">AMC 84th Street 6</option>
                        <option value="amc-magic-johnson-harlem-9">AMC Magic Johnson Harlem 9</option>
                        <option value="change-location">Change Location…</option>
                    </select>
                    <div class="text-2xl" role="presentation" aria-hidden="true" tabindex="-1"><svg
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%">
                            <title>Theatre</title>
                            <path
                                d="M34.65 4.808C31.277 1.436 26.499-.25 21.72.03 12.447.03 5.7 5.932 5.7 13.802c.843 11.524 5.902 22.204 14.053 30.074.562.562 1.405.843 2.249 1.124.843 0 1.405-.281 1.967-.843 5.902-5.06 14.615-18.831 14.334-30.355 0-3.373-1.405-6.745-3.653-8.994zM22.845 42.752c-.843.562-.843.562-1.968 0-5.34-4.216-13.49-17.988-13.49-28.95 0-7.026 5.902-11.804 14.334-11.804 4.216 0 8.432 1.405 11.523 4.216 1.968 1.967 3.092 4.778 3.092 7.588.562 10.962-7.589 24.171-13.491 28.95z">
                            </path>
                            <path
                                d="M22.002 7.338c-3.654 0-6.746 3.091-6.746 6.745s3.092 6.746 6.746 6.746c3.654 0 6.745-3.092 6.745-6.746 0-3.654-3.091-6.745-6.745-6.745zm0 11.804a5.038 5.038 0 0 1-5.06-5.059 5.039 5.039 0 0 1 5.06-5.059 5.039 5.039 0 0 1 5.059 5.06 5.038 5.038 0 0 1-5.06 5.058z">
                            </path>
                        </svg></div>
                    <div><span class="line-clamp-2 text-ellipsis text-center">AMC Village 7</span></div>
                    <div><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%" class="text-sm">
                            <title>Expand Options</title>
                            <path
                                d="M22.464 29.594 3.067 10.48c-.856-.57-2.283-.285-2.853.856-.285.57-.285 1.141 0 1.997l20.824 20.824c.856.856 1.997.856 2.853 0L44.715 13.62c.57-.856.285-2.282-.856-2.852-.57-.286-1.426-.286-1.997 0z">
                            </path>
                        </svg></div>
                </label>
                <label class="relative flex w-full max-w-[25%] flex-col items-center justify-between gap-2 p-2 text-xs transition-all duration-200 focus-within:text-blue-500 hover:text-blue-500 md:w-auto md:flex-row md:p-4 md:text-base">
                    <!-- Icon lịch -->
                    <div class="text-2xl cursor-pointer" role="presentation" (click)="picker.open()">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em" height="100%">
                        <title>Date</title>
                        <path d="M40.07 3.464h-7.237V.873a.873.873 0 1 0-1.746 0v2.59H13.74V.874a.873.873 0 1 0-1.746 0v2.59H4.983A3.182 3.182 0 0 0 1.8 6.675v35.088A3.182 3.182 0 0 0 4.983 45H40.07a3.182 3.182 0 0 0 3.182-3.182V6.674a3.182 3.182 0 0 0-3.182-3.21zm1.436 38.298a1.436 1.436 0 0 1-1.436 1.436H4.983a1.436 1.436 0 0 1-1.437-1.436V17.854h38.017V41.79zm0-25.654H3.518V6.674a1.436 1.436 0 0 1 1.436-1.436h7.04v3.52a.873.873 0 1 0 1.746 0V5.21h17.234v3.548a.873.873 0 1 0 1.746 0V5.21h7.238a1.436 1.436 0 0 1 1.436 1.436v9.462z"></path>
                        <path d="M18.894 34.496a2.056 2.056 0 0 1-2-1.971l-2.478.394a4.365 4.365 0 0 0 4.506 3.858 4.28 4.28 0 0 0 4.506-3.999 3.464 3.464 0 0 0-3.295-3.491l2.816-2.422v-2.169H14.5v2.225h5.407l-3.183 2.816L17.88 31.4a2.619 2.619 0 0 1 1.098-.254 1.83 1.83 0 0 1 1.943 1.633 1.859 1.859 0 0 1-2.027 1.718zm8.955-6.87v8.954h2.45V24.696H28.27l-4.027 2.366 1.098 2z"></path>
                      </svg>
                    </div>
                    
                    <!-- Ẩn input date picker nhưng vẫn có thể mở khi click icon -->
                    <div class="date-picker-container hidden">
                      <mat-form-field appearance="outline">
                        <mat-label>Chọn ngày</mat-label>
                        <input name="selectedDate" matInput [matDatepicker]="picker" [(ngModel)]="date" (dateChange)="onDateChange($event)" [matDatepickerFilter]="dateFilter">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
                    
                    <!-- Hiển thị Ngày đã chọn -->
                    <div><span class="line-clamp-2 text-ellipsis text-center">{{ date | date:'dd/MM/yyyy' }}</span></div>
                  </label>
                  
                <label aria-label="Movie Filter"
                    class="relative flex w-full max-w-[25%] flex-col items-center justify-between gap-2 p-2 text-xs transition-all duration-200 focus-within:text-blue-500 hover:text-blue-500 md:w-auto md:flex-row md:p-4 md:text-base"><select
                        (change)="onMovieChange($event)"
                        class="absolute inset-0 w-full cursor-pointer appearance-none bg-transparent text-transparent [&amp;>option]:text-black"
                        name="movie">
                        <option value="">All Movies</option>
                        @for (item of listMoive; track $index) {
                            <option value="{{item.id}}">{{item.movieName}}</option> 
                        }
                    </select>
                    <div class="text-2xl" role="presentation" aria-hidden="true" tabindex="-1"><svg
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%">
                            <title>Movie</title>
                            <circle cx="19.282" cy="22.718" r="1.743"></circle>
                            <path
                                d="M19.282 17.097a5.003 5.003 0 1 0-4.975-4.863 5.003 5.003 0 0 0 4.975 4.863zm0-8.433a3.513 3.513 0 1 1-3.514 3.57 3.513 3.513 0 0 1 3.514-3.57zm5.003 24.791a5.003 5.003 0 1 0-5.003 5.003 5.003 5.003 0 0 0 5.003-5.003zm-8.432 0a3.513 3.513 0 1 1 3.513 3.514 3.513 3.513 0 0 1-3.598-3.514zm14.053-5.621a5.003 5.003 0 1 0-5.003-5.116 5.003 5.003 0 0 0 5.003 5.116zm0-8.433a3.513 3.513 0 1 1-3.513 3.317 3.513 3.513 0 0 1 3.513-3.373zm-21.22-1.545a5.003 5.003 0 1 0 5.002 4.862 5.003 5.003 0 0 0-5.003-4.862zm0 8.432a3.513 3.513 0 1 1 3.513-3.57 3.513 3.513 0 0 1-3.514 3.654z">
                            </path>
                            <path
                                d="M44.27 40.51H26.645A19.225 19.225 0 1 0 19.282 42h24.96a.745.745 0 0 0 .027-1.49zM1.517 22.718A17.792 17.792 0 1 1 19.31 40.51 17.82 17.82 0 0 1 1.518 22.718z">
                            </path>
                            <circle cx="16.808" cy="20.413" r="0.646"></circle>
                            <circle cx="21.783" cy="25.388" r="0.646"></circle>
                            <circle cx="16.836" cy="25.332" r="0.646"></circle>
                            <circle cx="21.755" cy="20.385" r="0.646"></circle>
                            <path
                                d="M19.703 19.907a.646.646 0 1 0-.899-.899.646.646 0 0 0 .9.9zM18.635 26.4a.646.646 0 1 0 .197-.45.646.646 0 0 0-.197.45zm-3.26-3.963a.646.646 0 1 0 .45-.197.646.646 0 0 0-.45.197zm7.898.871a.646.646 0 0 0 0-.899.646.646 0 1 0 0 .9z">
                            </path>
                        </svg></div>
                    <div><span class="line-clamp-2 text-ellipsis text-center">All Movies</span></div>
                    <div><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%" class="text-sm">
                            <title>Expand Options</title>
                            <path
                                d="M22.464 29.594 3.067 10.48c-.856-.57-2.283-.285-2.853.856-.285.57-.285 1.141 0 1.997l20.824 20.824c.856.856 1.997.856 2.853 0L44.715 13.62c.57-.856.285-2.282-.856-2.852-.57-.286-1.426-.286-1.997 0z">
                            </path>
                        </svg></div>
                </label>
                <label aria-label="Premium Offering Filter"
                    class="relative flex w-full max-w-[25%] flex-col items-center justify-between gap-2 p-2 text-xs transition-all duration-200 focus-within:text-blue-500 hover:text-blue-500 md:w-auto md:flex-row md:p-4 md:text-base">
                    <select
                        class="absolute inset-0 w-full cursor-pointer appearance-none bg-transparent text-transparent [&amp;>option]:text-black"
                        name="premiumOffering">
                        <option value="">Premium Offerings</option>
                        <option value="reclinerseating">AMC Signature Recliners</option>
                        <option value="reservedseating">Reserved Seating</option>
                        <option value="opencaption">Open Caption (On-screen Subtitles)</option>
                        <option value="reald3d">RealD 3D</option>
                        <option value="mandarinenglishsubtitle">Mandarin Spoken with English Subtitles</option>
                        <option value="laseratamc">Laser at AMC</option>
                        <option value="amcartisanfilms">AMC Artisan Films</option>
                        <option value="closedcaption">Closed Caption</option>
                    </select>
                    <div class="text-2xl" role="presentation" aria-hidden="true" tabindex="-1"><svg
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%">
                            <title>Premium Offerings</title>
                            <path
                                d="M23.495 29.21V1.57a.995.995 0 1 0-1.99 0v27.64a5.528 5.528 0 0 0 0 11.057v3.51a.995.995 0 0 0 1.99 0V40.24a5.528 5.528 0 0 0 0-11.029zm-.995 9.122a3.593 3.593 0 1 1 3.593-3.593 3.593 3.593 0 0 1-3.593 3.593zm16.972-33.28V1.514a.995.995 0 1 0-1.99 0v3.538a5.528 5.528 0 0 0 0 11.057v27.64a.995.995 0 0 0 1.99 0V16.11a5.528 5.528 0 0 0 0-11.057zm-.995 9.094a3.593 3.593 0 1 1 3.593-3.593 3.593 3.593 0 0 1-3.593 3.593zM7.518 17.822V1.514a.995.995 0 1 0-1.99 0v16.308a5.528 5.528 0 0 0 0 11.057v14.926a.995.995 0 0 0 1.99 0V28.879a5.528 5.528 0 0 0 0-11.057zm-.995 9.094a3.593 3.593 0 1 1 3.594-3.593 3.593 3.593 0 0 1-3.594 3.593z">
                            </path>
                        </svg></div>
                    <div><span class="line-clamp-2 text-ellipsis text-center">Premium Offerings</span></div>
                    <div><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45" width="1em"
                            height="100%" class="text-sm">
                            <title>Expand Options</title>
                            <path
                                d="M22.464 29.594 3.067 10.48c-.856-.57-2.283-.285-2.853.856-.285.57-.285 1.141 0 1.997l20.824 20.824c.856.856 1.997.856 2.853 0L44.715 13.62c.57-.856.285-2.282-.856-2.852-.57-.286-1.426-.286-1.997 0z">
                            </path>
                        </svg></div>
                </label>
            </form>
        </header>
        <main id="showtime-results" class="relative flex-1 overflow-auto min-h-[calc(100vh-200px)] bg-black" aria-label="Filtered Showtime Results"
            aria-describedby="showtime-result-filters">
            <div class="mx-auto w-full max-w-[1248px] px-4 xl:px-0 relative flex gap-8">
                <div class="contents">
                    <div class="flex-1 divide-y-8 divide-gray-500">
                        @if ((groupedData | keyvalue)?.length === 0) {
                            <div class="flex items-center justify-center h-[calc(100vh-200px)]">
                                <p class="text-gray-400 text-lg">Không có phim nào trong thời gian này</p>
                            </div>
                        }
                        @for (movieName of groupedData | keyvalue; track $index) {
                        <section id="captain-america-brave-new-world-67472"
                            class="group relative mb-8 flex flex-col pt-8 last:pb-[80vh]"
                            aria-label="Showtimes for Captain America: Brave New World"
                            data-active-section-id="captain-america-brave-new-world-67472" data-active="true">
                            <header role="group" aria-label="Captain America: Brave New World Details"
                                class="sticky top-0 z-20 -mx-4 flex items-center gap-4 bg-gradient-to-t from-transparent from-5% to-black to-20% px-4 pb-4 pt-4"
                                data-sticky-id="captain-america-brave-new-world-67472"><img alt=""
                                    config="[object Object]" loading="lazy" width="90" height="90" decoding="async"
                                    data-nimg="1" class="inline-block aspect-square w-[90px] min-w-[90px]"
                                    srcset="{{movieName.value.thumbnail}}"
                                    src="{{movieName.value.thumbnail}}"
                                    style="color: transparent;">
                                <div class="flex flex-col justify-center gap-2">
                                    <h1 (click)="selectMovie(movieName.key, movieName.value)" class="text-balance text-lg font-bold md:text-3xl cursor-pointer hover:text-blue-500">
                                        {{movieName.key}}
                                    </h1>
                                    <ul class="flex flex-wrap gap-y-2 leading-none">
                                        <li class="-translate-x-[0.5ch] pl-[0.5ch] [&:not(:last-child)]:border-r-2 [&:not(:last-child)]:border-r-gray-300 [&:not(:last-child)]:pr-[0.5ch]">
                                            <span class="flex items-center gap-[0.5ch]" role="group">
                                                {{ movieName.value.duration | durationFormat }}
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </header>
                            <div role="group" aria-label="Showtimes at AMC Village 7">
                                <h2 class="sticky top-0 z-10 flex items-center gap-1 bg-gradient-to-t from-transparent from-5% to-black to-20% text-lg font-bold md:text-2xl sr-only p-0"
                                    id="captain-america-brave-new-world-67472-amc-village-7"><a
                                        class="group transition-colors text-white hocus:text-blue-500 flex items-center gap-2 text-lg font-bold md:text-2xl"
                                        href="/movie-theatres/new-york-city/amc-village-7"><svg
                                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 45 45"
                                            width="1em" height="100%">
                                            <path
                                                d="M34.65 4.808C31.277 1.436 26.499-.25 21.72.03 12.447.03 5.7 5.932 5.7 13.802c.843 11.524 5.902 22.204 14.053 30.074.562.562 1.405.843 2.249 1.124.843 0 1.405-.281 1.967-.843 5.902-5.06 14.615-18.831 14.334-30.355 0-3.373-1.405-6.745-3.653-8.994zM22.845 42.752c-.843.562-.843.562-1.968 0-5.34-4.216-13.49-17.988-13.49-28.95 0-7.026 5.902-11.804 14.334-11.804 4.216 0 8.432 1.405 11.523 4.216 1.968 1.967 3.092 4.778 3.092 7.588.562 10.962-7.589 24.171-13.491 28.95z">
                                            </path>
                                            <path
                                                d="M22.002 7.338c-3.654 0-6.746 3.091-6.746 6.745s3.092 6.746 6.746 6.746c3.654 0 6.745-3.092 6.745-6.746 0-3.654-3.091-6.745-6.745-6.745zm0 11.804a5.038 5.038 0 0 1-5.06-5.059 5.039 5.039 0 0 1 5.06-5.059 5.039 5.039 0 0 1 5.059 5.06 5.038 5.038 0 0 1-5.06 5.058z">
                                            </path>
                                        </svg>AMC Village 7</a></h2>
                                        @for (theaters of movieName.value.theaters | keyvalue; track $index) {
                                <ul class="flex flex-col gap-14 py-4 pl-1"
                                    aria-label="AMC Village 7, Captain America: Brave New World Showtimes by Features and Accesibility">
                                    <li role="listitem" aria-label="RealD 3D Showtimes">
                                        <div class="flex items-start justify-between font-bold uppercase md:text-xl">
                                            <h3 id="captain-america-brave-new-world-67472-amc-village-7-reald3d-0">
                                                <div class="mb-2 flex flex-wrap gap-2"><span>{{theaters.value.address}}</span><span
                                                        class="sr-only">: </span><span
                                                        class="mr-4 inline-block w-max font-thin">{{theaters.key}}
                                                        <button
                                                            class="h-[1em] w-[1em] text-blue-500 transition-colors hover:text-white"
                                                            aria-label="More Info" type="button" aria-haspopup="dialog"
                                                            aria-expanded="false" aria-controls="radix-:r8tb:"
                                                            data-state="closed"><svg xmlns="http://www.w3.org/2000/svg"
                                                                fill="currentColor" viewBox="0 0 45 45" width="1em"
                                                                height="100%" class="h-[1em] w-[1em]">
                                                                <path
                                                                    d="M22.5 45C10.125 45 0 34.875 0 22.5S10.125 0 22.5 0 45 10.125 45 22.5 34.875 45 22.5 45zm0-41.625c-10.35 0-18.9 8.55-18.9 18.9 0 10.35 8.55 18.9 18.9 18.9 10.35 0 18.9-8.55 18.9-18.9 0-10.35-8.55-18.9-18.9-18.9z">
                                                                </path>
                                                                <path
                                                                    d="M15.75 17.55c0-3.6 3.15-6.075 6.75-6.075 3.15 0 6.75 2.25 6.75 5.625 0 2.25-1.125 3.825-2.925 4.95-.675.45-1.35.9-1.8 1.575-.675.675-.9 1.575-.9 2.7H20.7c-.225-.45-.225-.9-.225-1.35 0-4.5 5.4-4.725 5.4-7.875 0-1.575-1.575-2.7-3.15-2.7-2.025 0-3.375 1.575-3.375 3.375v.675l-3.375-.225c-.225.225-.225-.225-.225-.675zm6.3 15.75c1.125 0 2.025-.9 2.025-2.025s-.9-2.025-2.025-2.025-2.025.9-2.025 2.025c-.225.9.9 2.025 2.025 2.025z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        </span></div>
                                            </h3><img alt="RealD 3D" config="[object Object]" loading="lazy" width="100"
                                                height="35" decoding="async" data-nimg="1"
                                                class="hidden md:inline-block"
                                                srcset="https://amc-theatres-res.cloudinary.com/image/upload/c_limit,w_100/f_auto/q_auto/amc-cdn/production/2/attributes/RealD_SM.png 1x, https://amc-theatres-res.cloudinary.com/image/upload/c_limit,w_100/f_auto/q_auto/amc-cdn/production/2/attributes/RealD_SM.png 2x"
                                                src="https://amc-theatres-res.cloudinary.com/image/upload/c_limit,w_100/f_auto/q_auto/amc-cdn/production/2/attributes/RealD_SM.png"
                                                style="color: transparent;">
                                        </div>
                                        <ul class="mb-4 flex flex-wrap gap-x-4 gap-y-2 text-sm"
                                            id="captain-america-brave-new-world-67472-amc-village-7-reald3d-0-attributes">
                                            <li aria-label="AMC Signature Recliners">AMC Signature Recliners</li>
                                            <li aria-label="Reserved Seating">Reserved Seating</li>
                                            <li aria-label="Laser at AMC">Laser at AMC</li>
                                            <li aria-label="Closed Caption">Closed Caption</li>
                                            <li aria-label="Audio Description">Audio Description</li>
                                        </ul>
                                        <ul class="flex flex-wrap items-start gap-x-2 gap-y-4 md:gap-4"
                                        aria-label="Showtime Group Results">
                                        @for (showtime of theaters.value.showtimes | keyvalue; track $index) {
                                            <li class="grid justify-items-center gap-2">
                                                <div role="group">
                                                    <button (click)="getShowtime(showtime.value.id)" type="button"
                                                        class="inline-flex text-center items-center justify-center w-max font-bold transition duration-200 disabled:opacity-40 rounded-full ring-inset ring-2 ring-white hocus:ring-blue-500 hocus:text-blue-500 text-white outline-offset-[-5px] px-6 min-w-[10ch] text-sm md:text-base h-12 line-through"
                                                       >{{showtime.value.startTime}}</button>
                                                    <div id="129217990-details"
                                                        class="grid justify-items-center gap-2 pt-2">
                                                        <div class="text-xs font-bold uppercase"><span
                                                                class="opacity-40">UP TO 20% OFF</span></div>
                                                    </div>
                                                </div>
                                            </li>
                                        }
                                        </ul>
                                    </li>
                                </ul>
                            }
                            </div>
                        </section>
                    }
                    </div>
                    <div class="relative w-[500px] pl-6 lg:block">
                        <aside class="sticky top-0 grid gap-2 py-4" aria-label="Movie Trailer and Info">
                            <h1 class="sr-only">Movie Trailers and Info</h1>
                            <div class="relative mb-4">
                                @if (Trailer) {
                                    <iframe [src]="Trailer | safe" 
                                            width="500" 
                                            height="280" 
                                            frameborder="0" 
                                            allowfullscreen>
                                    </iframe>
                                }
                                @if (!Trailer) {
                                    <div class="w-full h-[280px] bg-gray-800 flex items-center justify-center">
                                        <p class="text-gray-400">Chưa có trailer</p>
                                    </div>
                                }
                            </div>
                            <div class="border-b border-gray-500 py-4">
                                @if (selectedMovie) {
                                    <div class="space-y-4">
                                       
                                        <p class="mb-2 line-clamp-2 text-balance text-2xl font-semibold">Movie Name: {{selectedMovie?.name}}</p>
                                        
                                        <div class="flex items-center gap-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="text-sm">{{selectedMovie?.duration ?? 0 | durationFormat}}</span>
                                        </div>
                                    </div>
                                } @else {
                                    <p class="mb-2 text-gray-400">Chọn một bộ phim để xem thông tin chi tiết</p>
                                }
                            </div>
                            <div class="p-4 bg-gray-900 rounded-lg">
                                <a
                                   class="inline-flex items-center text-blue-500 hover:text-blue-400">
                                    Chi tiết phim
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                                    </svg>
                                </a>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none">
        <ol tabindex="-1" class="fixed bottom-0 right-0 grid w-full max-w-full gap-4 p-4 md:w-96"></ol>
    </div>
    <dialog
        class="flex items-center justify-center empty:hidden w-[100vw] h-[100dvh] bg-transparent max-w-[100vw] max-h-[100dvh]">
    </dialog>
